{% extends 'layout.html' %}

{% block title %}Shop{% endblock %}

{% block content %}
<style>
    input[type=range] {
        -webkit-appearance: none;
        width: 70%;
    }

    input[type=range]::-webkit-slider-runnable-track {
        width: 1000px;
        height: 5px;
        background: #000000;
        border: none;
        border-radius: 3px;
    }

    input[type=range]::-webkit-slider-thumb {
        -webkit-appearance: none;
        border: none;
        height: 16px;
        width: 16px;
        border-radius: 50%;
        background: rgb(0, 0, 0);
        margin-top: -5px;
    }

    input[type=range]:focus {
        outline: none;
    }

    input[type=range]:focus::-webkit-slider-runnable-track {
        background: #000000;
    }

    .row {
        --bs-gutter-x: 30px;
        --bs-gutter-y: 0;
        display: flex;
        flex-wrap: wrap;
        margin-top: calc(var(--bs-gutter-y) * -1);
        margin-right: calc(var(--bs-gutter-x) * -.5);
        margin-left: calc(var(--bs-gutter-x) * -.5);
    }

    /*  Shop1 */

    .wrapper {
        position: relative;
    }

    .page-item:first-child .page-link {
        margin-left: 0;
        border-top-left-radius: .25rem;
        border-bottom-left-radius: .25rem;
    }

    .wrapper a {
        text-decoration: none;
        color: black;
    }


    .shop-products {
        margin-top: 30px;
    }

    .shop-products .ft-product {
        display: block;
    }

    .product-image {
        margin-bottom: 22px;
    }

    .product-badge {
        background-color: #ff5151;
    }

    /* .ft-product .product-action {
  left: 20px;
  bottom: 20px;
}

.ft-product .product-action a {
    -webkit-transform: translate(-70px, 0);
    -moz-transform: translate(-70px, 0);
    -ms-transform: translate(-70px, 0);
    -o-transform: translate(-70px, 0);
    transform: translate(-70px, 0);
    -moz-transition-delay: 50ms;
    -ms-transition-delay: 50ms;
    -o-transition-delay: 50ms;
    -webkit-transition-delay: 50ms;
    transition-delay: 50ms;
    opacity: 0;
}
 */




    .ft-product .product-action a:not(:last-child) {
        margin-bottom: 10px;
    }

    .product-title {
        margin-bottom: 6px;
        font-weight: 400;
        color: #373737;
        font-size: 16px;
    }

    .product-info-button {
        display: -webkit-box;
        display: -webkit-flex;
        display: -moz-flex;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-align: center;
        -ms-flex-align: center;
        -webkit-align-items: center;
        -moz-align-items: center;
        align-items: center;
        -webkit-box-pack: justify;
        -ms-flex-pack: justify;
        -webkit-justify-content: space-between;
        -moz-justify-content: space-between;
        justify-content: space-between;
    }

    .product-price-wrapper {
        line-height: 1.5;
    }

    .money {
        display: inline-block;
    }

    /* .ft-product .product-inner .add-to-cart {
  opacity: 0;
  -webkit-transform: translate(0, 50px);
  -moz-transform: translate(0, 50px);
  -ms-transform: translate(0, 50px);
  -o-transform: translate(0, 50px);
  transform: translate(0, 50px);
} */

    .shop-products .ft-product-list {
        display: none;
    }

    .ft-product-list .product-inner {
        -webkit-flex-wrap: wrap;
        -moz-flex-wrap: wrap;
        -ms-flex-wrap: wrap;
        flex-wrap: wrap;
        display: -webkit-box;
        display: -webkit-flex;
        display: -moz-flex;
        display: -ms-flexbox;
        display: flex;
    }

    .ft-product-list .product-image {
        -webkit-flex-basis: 270px;
        -moz-flex-basis: 270px;
        -ms-flex-preferred-size: 270px;
        flex-basis: 270px;
        max-width: 270px;
        position: relative;
    }

    .product-image {
        margin-bottom: 22px;
    }

    .product-badge {
        padding: 3px 5px;
        color: #ffffff;
    }

    .ft-product-list .product-thumbnail-action {
        -webkit-transform: scale(0.2, 0.2);
        -moz-transform: scale(0.2, 0.2);
        -ms-transform: scale(0.2, 0.2);
        -o-transform: scale(0.2, 0.2);
        transform: scale(0.2, 0.2);
    }


    .ft-product-list .product-info {
        -webkit-flex-basis: calc(100% - 270px);
        -moz-flex-basis: calc(100% - 270px);
        -ms-flex-preferred-size: calc(100% - 270px);
        flex-basis: calc(100% - 270px);
        max-width: calc(100% - 270px);
        padding-left: 40px;
    }



    .ft-product-list .product-title {
        font-size: 28px;
        line-height: 34px;
    }

    .pagination,
    .breadcrumb {
        -webkit-box-pack: center;
        -ms-flex-pack: center;
        -webkit-justify-content: center;
        -moz-justify-content: center;
        justify-content: center;
    }
</style>









<div class="wrapper">
    <!-- Main Content Wrapper  -->
    <div class="main-content-wrapper">
        <div class="shop-page wrapper" style="padding-top: 80px;padding-bottom: 80px;">
            <div class="container">
                <!-- <div onclick="window.location.href='productpage.html';" class="product-inner">  -->
                <div class="row">
                    <div class="col-xl-9 col-lg-8 order-lg-2 md--50" style="margin-bottom: 50px;">
                        {% if books %}


                        <div class="shop-products">
                            <div class="row">
                                {% for book in books %}
                                <div class="col-xl-4 col-sm-6 " style="margin-bottom: 50px;">
                                    <div class="ft-product">
                                        <div class="product-inner">
                                            <div class="product-image">
                                                <figure class="product-image--holder"> 
                                                    <a href="/shop/{{  book.isbn  }}">
                                                        <img src="{{  book.Image_URL_L  }}"
                                                            style="height: 360px; width: 224px; object-fit: fill;"
                                                            alt="Product"></a>
                                                </figure>
                                                <!-- <a href="" class="product-overlay"></a> -->
                                                <div class="product-action">
                                                    <a data-bs-toggle="modal" data-bs-target="#productModaldetails"
                                                        class="action-btn">
                                                        <i class="fa fa-eye"></i>
                                                    </a>

                                                    <!-- {% if book.wish==True  %} -->
                                                
                                                    <form method="post" action="/deletefromwishlist"
                                                        style="display: inline-block;">
                                                        <input type="hidden" name="isbn" value="{{ book.isbn }}" />
                                                        <button type="submit" class="action-btn"
                                                            style="border: none; background: none;"><i
                                                                class="fa-regular fa-heart"></i></button>
                                                    </form>
                                                    
                                                  
                                                   <!-- {% else %}   -->
                                                   <form method="post" action="/addtowishlist"
                                                        style="display: inline-block;">
                                                        <input type="hidden" name="isbn" value="{{ book.isbn }}" />
                                                        <button type="submit" class="action-btn"
                                                            style="border: none; background: none;"><i
                                                                class="fa fa-heart"></i></button>
                                                    </form>
                                                    
                                                    <!-- <form method="post" action="/deletefromwishlist"
                                                        style="display: inline-block;">
                                                        <input type="hidden" name="isbn" value="{{ book.isbn }}" />
                                                        <button type="submit" class="action-btn"
                                                            style="border: none; background: none;"><i
                                                                class="fa-regular fa-heart"></i></button>
                                                    </form> -->


                                                  <!-- {% endif %} -->
                                                    
                                                    <form method="post" action="/addtocart"
                                                        style="display: inline-block;">
                                                        <input type="hidden" name="isbn" value="{{ book.isbn }}" />
                                                        <input type="hidden" name="quantity" value="1" />
                                                        <button type="submit" class="add-to-cart"
                                                            style="border: none; padding: 8px 15px; margin-left: 52px; color: #ffffff; background-color: #089da1; border-radius:5px ;"><i
                                                                class="fa fa-plus"></i>
                                                            <span>Add to Cart</span></button>
                                                    </form>
                                                </div>
                                            </div>
                                            <div class="product-info">
                                                <h3 class="product-title" style="width: 224px;">
                                                    <a href="/shop/{{  book.isbn  }}">{{ book.book_title }}</a>
                                                </h3>
                                                <div class="product-info-bottom">
                                                    <div class="product-price-wrapper" style="font-weight: bold;">
                                                        <span class="money fs-2">₹ {{ book.price }}</span>

                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                {% endfor %}



                            </div>
                        </div>



                        <nav aria-label="pagination-wrap">
                            <ul class="pagination">
                                <li class="page-item ">
                                    <a class="page-link">Previous</a>
                                </li>
                                <li class="page-item"><a class="page-link" href="#">1</a></li>
                                <li class="page-item active" aria-current="page">
                                    <a class="page-link" href="#">2</a>
                                </li>
                                <li class="page-item"><a class="page-link" href="#">3</a></li>
                                <li class="page-item">
                                    <a class="page-link" href="#">Next</a>
                                </li>
                            </ul>
                        </nav>

                        {% else %}
                        <div class="table-content table-responsive">
                            <div class="text-center m-4 no-results">
                                <h1>No results found</h1>
                                <a href="{{ url_for('shop') }}">
                                    <button class="btn btn-size-md mt-2" style="color: #ffffff;
                                        background-color: #089da1;
                                        padding: 20px 40px;">Back to Shop</button>
                                </a>
                            </div>


                        </div>
                        {% endif%}
                    </div>



                    <div class="col-xl-3 col-lg-4 order-lg-1">
                        <aside class="shop-siderbar">

                            <div class="shop-widget p-5"
                                style=" background-color: rgb(247, 248, 249); margin-bottom: 40px;">
                                <div class="product-widget mb-30">
                                    <h3 class="widget-title mb--25">Filter By Price</h3>
                                    <div class="price__slider mt-30">
                                        <input type="range" class="multi-range success" value="None" min="100"
                                            max="1000" id="rangeInput" oninput="maxPrice.value=this.value"
                                            width="400px;">
                                        <div>
                                            <form action="/shop/filterbyprice" class="s-form mt-20" method="post">
                                                <b>₹ <input type="number" id="maxPrice" readonly="" name="FilterPrice"
                                                        onkeyup="rangeInput.value=this.value" value="None"
                                                        style="border: none; border-width: 0;  box-shadow: none;"></b>

                                                <button type="submit" id="priceFilterBtn"
                                                    class="tp-btn-square-lg btn-dark btn-sm btn-block mt-2">Filter</button>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>


                            <div class="shop-widget  p-5"
                                style=" background-color: rgb(247, 248, 249); margin-bottom: 40px;">
                                <h3 class="widget-title mb--25">Ratings</h3>
                                <ul class="widget-list category-list">
                                    <li>

                                        <div class="dropdown">
                                            <button class="btn btn-secondary dropdown-toggle" type="button"
                                                data-bs-toggle="dropdown" aria-expanded="false">
                                                Ratings
                                            </button>
                                            <ul class="dropdown-menu">
                                                <li><a class="dropdown-item" href="#">4 stars and above</a></li>
                                                <li><a class="dropdown-item" href="#">3 stars and above</a></li>
                                                <li><a class="dropdown-item" href="#">2 stars and above</a></li>
                                                <li><a class="dropdown-item" href="#">1 star and above</a></li>
                                            </ul>
                                        </div>
                                    </li>


                                </ul>
                            </div>

                        </aside>
                    </div>


                </div>
            </div>
        </div>
    </div>


</div>
</div>



{% endblock %}